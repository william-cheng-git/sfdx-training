<?xml version="1.0" ?>
<ruleset
  name="Master Ruleset"
  xmlns="http://pmd.sourceforge.net/ruleset/2.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://pmd.sourceforge.net/ruleset/2.0.0 
                             https://pmd.sourceforge.net/ruleset_2_0_0.xsd"
>

    <description>
        Master ruleset combining built-in PMD rules and local custom rules
    </description>
    
    <exclude-pattern>.*/.sfdx/.*</exclude-pattern>

    <!-- standard apex rules -->
    <rule ref="category/apex/security.xml" />
    <rule ref="category/apex/bestpractices.xml">
      <!-- It doesn't make sense -->  
      <exclude name="ApexUnitTestClassShouldHaveRunAs" />
      <!-- Replaced by custom rules that include more assertion patterns -->
      <exclude name="ApexUnitTestClassShouldHaveAsserts" /> 
      <!-- Please create test method with meaningful method name instead-->
      <exclude name="ApexAssertionsShouldIncludeMessage" /> 
    </rule>
    <rule ref="category/apex/design.xml">
        <exclude name="AvoidBooleanMethodParameters" /> <!-- I don't agree -->
    </rule>
    <rule ref="category/apex/performance.xml" />
    <rule ref="category/apex/errorprone.xml" />
    <rule ref="category/apex/codestyle.xml" />

    <!-- custom apex rules -->
    <rule ref="pmd/custom_apex_ruleset.xml" />

    <!-- standard visualforce rules -->
    <rule ref="category/visualforce/security.xml" />

</ruleset>
